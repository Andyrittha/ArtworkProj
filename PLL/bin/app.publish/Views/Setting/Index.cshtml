@using DAL;
@using Microsoft.AspNet.Identity;
@{
    ViewBag.Title = "Settings";
}
@using (var context = new ARTWORKEntities())
{
    var UserID2 = BLL.Services.CNService.GetUserID2(User.Identity.GetUserName(), context);

    if (BLL.Services.CNService.HasPermissionMaster(UserID2, context))
    {
        <div class="row" style="padding-bottom:10px;">
            <div class="col-md-12">
                <img src="~/Content/img/icon_setting.jpg" />
                <span style="font-size:16px;color:orange;font-weight:bold;">Administration</span><span style="font-size:16px;color:gray;font-weight:bold;">
                    Function
                </span>
            </div>
        </div>
    }

    <div class="col-md-12">
        <div class="col-md-12">
            @if (BLL.Services.CNService.HasPermission(UserID2, "DECISION", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Decision code (reason)", "Index", "DecisionCode", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain decision code (reason).
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "EMAILTEMPLATE", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Email template", "Index", "EmailTemplate", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain email template.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.IsAdmin(UserID2, context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("All user", "Index", "Users", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain all user for administrator.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "USERROLE", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Employee", "Internal", "Users", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain employee.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "USERROLE", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Vendor user", "Vendor", "Users", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain vendor user.
                    </div>
                </div>

            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "VENDORINFO", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Vendor user", "VendorInfo", "Users", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        View vendor user.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "USERROLE", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Customer user", "Customer", "Users", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain customer user.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "CUSTOMERINFO", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Customer user", "CustomerInfo", "Users", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        View customer user.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "VENDORMASTER", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Vendor master", "Index", "Vendor", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain vendor master.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "CUSTOMERMASTER", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Customer master", "Index", "Customer", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain customer master.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "ZONE", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Country and Zone", "Index", "Zone", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain country and zone.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "PIC", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Account allocation setting", "Index", "PIC", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain account allocation setting.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "WORDINGTEMPLATE", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Wording template", "Index", "WordingTemplate", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain wording template.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "STEP", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Step and duration for mockup workflow", "Index", "StepMockup", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain step and duration for mockup workflow.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "STEP", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Step and duration for artwork workflow", "Index", "StepArtwork", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain step and duration for artwork workflow.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "PERMISSION", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Permission setting", "Index", "Permission", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain permission setting.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "ATTACHMENT", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        <a target="_blank" href="@System.Configuration.ConfigurationManager.AppSettings["CSURLFileAttachment"]">File attachment</a>
                    </div>
                    <div class="col-md-8">
                        Maintain file attachment.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "REVEIVEEMAILNEWCUSTOMER", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Notification email receiver for new customer", "Index", "ReveiveEmailNewCustomer", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain notification email receiver for new customer.
                    </div>
                </div>
            }
        </div>
    </div>
    if (BLL.Services.CNService.HasPermissionWFFunction(UserID2, context))
    {

        <div class="row" style="padding-bottom:10px;padding-top:20px;">
            <div class="col-md-12">
                <img src="~/Content/img/icon_setting.jpg" />
                <span style="font-size:16px;color:orange;font-weight:bold;">Workflow</span><span style="font-size:16px;color:gray;font-weight:bold;"> Function</span>
            </div>
        </div>
    }
    <div class="col-md-12">
        <div class="col-md-12">
            @if (BLL.Services.CNService.HasPermission(UserID2, "DELEGATE", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Delegate workitem", "Index", "Delegate", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Delegate workitem.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "REASSIGN", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Re-Assign workitem", "Reassign", "WFSetting", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Re-Assign workitem.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "REOPEN", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Re-Open workitem", "Reopen", "WFSetting", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Re-Open workitem.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "RECALL", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Re-Call workitem", "Recall", "WFSetting", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Re-Call workitem.
                    </div>
                </div>
            }
            @if (BLL.Services.CNService.HasPermission(UserID2, "CHANGEOWNER", context))
            {
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Change owner workitem", "Reassign2", "WFSetting", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Change owner workitem.
                    </div>
                </div>
            }
        </div>
    </div>
    <br />

    if (BLL.Services.CNService.HasPermission(UserID2, "IGRID", context))
    {
        <div class="row" style="padding-bottom:10px;">
            <div class="col-md-12">
                <img src="~/Content/img/icon_setting.jpg" />
                <span style="font-size:16px;color:orange;font-weight:bold;">IGrid</span><span style="font-size:16px;color:gray;font-weight:bold;">
                    Function
                </span>
            </div>
        </div>
        <div class="col-md-12">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-4">
                        <img src="~/Content/img/icon_setting_mini.png" />
                        @Html.ActionLink("Update Master", "Index", "UpdateMaster", null, new { @style = "color:#428bca;" })
                    </div>
                    <div class="col-md-8">
                        Maintain Master.
                    </div>
                </div>
            </div>
        </div>
    }

}
