<div class="cls_container_taskform_artwork">
    <div class="row cls_display_view cls_hide">
        <div class="col-md-12">
            <div style="font-weight: bold;background-color: lightgray;text-align: center;padding: 4px;">Display view</div>
        </div>
    </div>
    <div class="row cls_display_txt_over_due cls_hide">
        <div class="col-md-12">
            <div style="font-weight: bold;background-color: #d2322d;text-align: center;padding: 4px;color: #fff;">This workitem is over due.</div>
        </div>
    </div>
    <div class="row cls_display_txt_lock_wf cls_hide">
        <div class="col-md-12">
            <div style="font-weight: bold;background-color: #d2322d;text-align: center;padding: 4px;color: #fff;">This workitem is locked. Please contact your PA supervisor.</div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2 control-label">Request form no. :</div>
        <div class="col-md-4"><input disabled type="text" class="cls_txt_header_tfartwork_rf_no form-control" /></div>
        <div class="col-md-2 control-label">Artwork no. :</div>
        <div class="col-md-4"><input disabled type="text" class="cls_txt_header_tfartwork_aw_no form-control" /></div>
    </div>
    <div class="row">
        <div class="col-md-2 control-label">Mockup no. :</div>
        <div class="col-md-4"><input disabled type="text" class="cls_txt_header_tfartwork_mu_no form-control" /></div>
        <div class="col-md-2 control-label">Reference form no. :</div>
        <div class="col-md-4"><input disabled type="text" class="cls_txt_header_tfartwork_ref_form_no form-control" /></div>
    </div>
    <div class="row">
        <div class="col-md-2 control-label">Status :</div>
        <div class="col-md-4"><input disabled type="text" class="cls_header_curr_status_txt form-control" /></div>
        @*by aof 202306 for CR#IGRID_REIM---- add"*@
        @if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
        {
            <div class="col-md-2 cls_only_pa_position control-label">Material status :</div>
            <div class="col-md-4 cls_only_pa_position"><input disabled type="text" class="cls_txt_header_tfartwork_mat_status form-control" /></div>
        }
        @*by aof 202306 for CR#IGRID_REIM---- add"*@
    </div>
    @if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
    {
        <div class="row cls_only_pa_position cls_pg_position">
            <div class="col-md-2 control-label">Reference material :</div>
            <div class="col-md-4">
                <input disabled type="text" style="display: inline-block;width: 250px;" class="cls_txt_header_tfartwork_ref_mat form-control" />
                <button type="button" style="padding: 3px 10px;display: inline-block;" class="cls_btn_header_tfartwork_ref_mat btn btn-warning">
                    Suggest
                </button>
                <button type="button" style="padding: 3px 10px;display: inline-block;" class="cls_btn_header_tfartwork_clear_ref_mat btn btn-danger">
                    Clear
                </button>
            </div>
            <div class="col-md-6 cls_only_pa_position">
                <label class="radio-inline"><input value="0" type="radio" name="cls_rdo_haeder_tfartwork_change_point">No change point</label>
                <label class="radio-inline"><input value="1" type="radio" name="cls_rdo_haeder_tfartwork_change_point">Change point</label>
            </div>
        </div>
    }
        <div class="row">
            <div class="col-md-2 control-label">Material no. :</div>
            <div class="col-md-4">
                <input disabled type="text" class="cls_txt_header_tfartwork_mat_no form-control" style="display: inline-block;width: 250px;" maxlength="18" />
                @if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
                {
                    <button type="button" style="padding: 3px 10px;display: inline-block;" class="cls_only_pa_position cls_btn_header_tfartwork_retrieve btn btn-warning" disabled>
                        Retrieve
                    </button>
                    <label class="cls_only_pa_position checkbox-inline" style="font-style: italic;color: gray;"><input type="checkbox" class="cls_chk_header_tfartwork_3v">3V case or have existing material no.</label>
                }
            </div>
            @*by aof 202306 for CR#IGRID_REIM---- commented and move up"*@
            @if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
            {
                @*<div class="col-md-2 cls_only_pa_position control-label">Material status :</div>
            <div class="col-md-4 cls_only_pa_position"><input disabled type="text" class="cls_txt_header_tfartwork_mat_status form-control" /></div>*@
                @*<div class="col-md-2 cls_only_pa_position control-label">Material Description : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img class="cls_img_pa_refresh_mat_desc" style="cursor:pointer;" src="~/Content/img/ico_refresh.png" />&nbsp;&nbsp;<input type="checkbox" class="cls_chk_pa_change_mat_desc" /></div>*@
                <div class="col-md-2 cls_only_pa_position control-label">Material Description : </div>
                <div class="col-md-4 cls_only_pa_position"><input disabled type="text" class="cls_txt_pa_mat_desc form-control" maxlength="30" onkeypress="return ValidateKey();" /> </div>
            }
            @*by aof 202306 for CR#IGRID_REIM---- commented and move up"*@
        </div>
    @if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
    {
        <div class="row cls_only_pa_position">
            <div class="col-md-6">
                <label class="checkbox-inline" style="font-weight: bold;color: #ed9c28;"><input type="checkbox" class="cls_chk_header_tfartwork_shadelimit">Received shade limit</label>
            </div>
            <div class="col-md-2 control-label">Shade limit :</div>
            <div class="col-md-4">
                <label class="radio-inline"><input value="1" type="radio" name="cls_rdo_haeder_tfartwork_shadelimit" disabled>Request shade limit for approval before production</label>
            </div>
        </div>
        <div class="row cls_only_pa_position">
            <div class="col-md-6">
                <label class="checkbox-inline" style="font-weight: bold;color: #ed9c28;"><input type="checkbox" class="cls_chk_header_tfartwork_po">Ready to create PO</label>
            </div>
            <div class="col-md-2 control-label"></div>
            <div class="col-md-4">
                <label class="radio-inline"><input value="0" type="radio" name="cls_rdo_haeder_tfartwork_shadelimit" disabled>Request shade limit for reference only</label>
            </div>
        </div>
        <div class="row cls_row_header_tfartwork_po_msg cls_hide">
            <div style="color: red;font-weight: bold;" class="col-md-12 control-label cls_lbl_header_tfartwork_po_msg"></div>
        </div>
        <div class="cls_row_extend_step_duration">
            @*<div class="col-md-2">
                    <label class="checkbox-inline" style="font-weight: bold;color:#ed9c28;">
                <input type="checkbox" class="cls_chk_header_tfartwork_extend_duration">Extend step duration
                        </label>
                </div>*@
            <div class="row">
                <div class="col-md-2 control-label">Request to extend step duration :</div>
                <div class="col-md-4">
                    @Html.Partial("LOV/ListOfValue", new ViewDataDictionary { { "cls_ddl", "cls_lov_reason" }, { "cls_txtarea", "cls_input_reason_other" } })
                    <span class="extend_step_duration_warning" style="color: red;">Warning : If you extend this step, it cannot be change</span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2 control-label"></div>
                <div class="col-md-3">
                    <button type="button" class="cls_btn_header_tfartwork_extend_duration btn btn-warning">Extend</button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button type="button" class="cls_btn_header_tfartwork_accept btn btn-success">Accept task</button>
            </div>
        </div>
    }
    <hr />
    <ul class="cls_taskform_tab nav nav-tabs">
        @if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
        {
            <li class="cls_li_artwork_data cls_hide">
                <a href="#view_artwork" data-toggle="tab">Artwork data</a>
            </li>
            <li class="cls_li_pa_data cls_hide">
                <a href="#view_pa" data-toggle="tab">PA data</a>
            </li>
            <li class="cls_li_salesorder_data cls_hide">
                <a href="#view_salesorder" data-toggle="tab">Sales order detail <span class="badge badge-error cls_badge_warning_salesorder_viewchange" title="SO changed">!</span><span class="badge badge-warning cls_badge_warning_foc_viewchange cls_hide" title="Please assign FOC">!</span></a>
            </li>
            <li class="cls_li_pg_data cls_hide">
                <a href="#view_pg" data-toggle="tab">PG data</a>
            </li>
            <li class="cls_li_internal_data cls_hide">
                <a href="#view_internal" data-toggle="tab">Internal Department</a>
            </li>
            <li class="cls_li_vendor_data cls_hide">
                <a href="#view_vendor" data-toggle="tab">Vendor</a>
            </li>
            <li class="cls_li_customer_data cls_hide">
                <a href="#view_customer" data-toggle="tab">Customer</a>
            </li>
            <li class="cls_li_history_data cls_hide">
                <a href="#view_history" data-toggle="tab">History</a>
            </li>
            <li class="cls_li_attachment_data cls_hide">
                <a href="#view_attachment" data-toggle="tab">Attachment</a>
            </li>
            <li class="cls_li_po_data cls_hide">
                <a href="#view_po" data-toggle="tab">Purchase order</a>
            </li>
        }
        @if (ViewBag.CURRENT_STEP_CODE_FOR == "Vendor")
        {
            <li class="cls_li_vendor_data cls_hide">
                <a href="#view_vendor" data-toggle="tab">Vendor</a>
            </li>
            <li class="cls_li_pg_data cls_hide">
                <a href="#view_pg" data-toggle="tab">AW information</a>
            </li>
        }
        @if (ViewBag.CURRENT_STEP_CODE_FOR == "Customer")
        {
            <li class="cls_li_customer_data cls_hide">
                <a href="#view_customer" data-toggle="tab">Customer</a>
            </li>
        }
    </ul>
    <div class="tab-content cls_content_taskform_artwork">
        @if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
        {
            <div class="tab-pane active" id="view_artwork">
                @Html.Partial("Artwork")
            </div>
            <div class="tab-pane" id="view_pa">
                @Html.Partial("PA")
            </div>
            <div class="tab-pane" id="view_salesorder">
                @Html.Partial("SalesOrder")
            </div>
            <div class="tab-pane" id="view_pg">
                @Html.Partial("PG")
            </div>
            <div class="tab-pane" id="view_vendor">
                @Html.Partial("Vendor")
            </div>
            <div class="tab-pane" id="view_customer">
                @Html.Partial("Customer")
            </div>
            <div class="tab-pane" id="view_internal">
                @Html.Partial("Internal")
            </div>
            <div class="tab-pane" id="view_history">
                @Html.Partial("History")
            </div>
            <div class="tab-pane" id="view_attachment">
                @Html.Partial("Attachment")
            </div>
            <div class="tab-pane" id="view_po">
                @Html.Partial("PO")
            </div>
        }
        @if (ViewBag.CURRENT_STEP_CODE_FOR == "Vendor")
        {
            <div class="tab-pane" id="view_vendor">
                @Html.Partial("Vendor")
            </div>
            <div class="tab-pane" id="view_pg">
                @Html.Partial("PGForVendor")
            </div>
        }
        @if (ViewBag.CURRENT_STEP_CODE_FOR == "Customer")
        {
            <div class="tab-pane" id="view_customer">
                @Html.Partial("Customer")
            </div>
        }
    </div>
</div>

@if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
{
    @Html.Partial("SalesOrderPopup")
    @Html.Partial("PAPopup")
    @Html.Partial("PGPopup")
    @Html.Partial("TemplatePopup")
}

<div class="modal model2" id="popup_attachment_artwork" tabindex="-1" role="dialog" aria-labelledby="popup_attachment_label_artwork">
    <div class="vertical-alignment-helper">
        <div class="modal-dialog modal_in_modal vertical-align-center">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="popup_attachment_label_artwork">Attachment</h4>
                </div>
                <div class="modal-body" style="margin-top: -10px;">
                    @Html.Partial("Attachment")
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal model3" id="popup_attachment_file_version_artwork" tabindex="-1" role="dialog" aria-labelledby="popup_attachment_label_artwork">
    <div class="vertical-alignment-helper">
        <div class="modal-dialog modal_in_modal vertical-align-center">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="popup_attachment_label_artwork">File version</h4>
                </div>
                <div class="modal-body" style="margin-top: -10px;">
                    @Html.Partial("AttachmentVersion")
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Back</button>
                </div>
            </div>
        </div>
    </div>
</div>

@if (ViewBag.CURRENT_STEP_CODE_FOR == "Internal")
{


    <div class="modal" id="modal_tfartwork_suggest_material" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Suggest material no.</h4>
                </div>
                <form>
                    <div class="modal-body">
                        @*<div class="row">
                                <div class="col-md-12">
                                    <label class="checkbox-inline"><input type="checkbox" class="cls_chk_suggest_material_no_search" />Search all material</label>
                                </div>
                            </div>*@

                        <div class="row">
                            <div class="col-md-2 control-label">
                                Material (FG) :
                            </div>
                            <div class="col-md-4">
                                <input type="text" class="form-control cls_txt_material_fg" />

                            </div>
                            <div class="col-md-2 control-label">
                                Sold To Name :
                            </div>
                            <div class="col-md-4">
                                @Html.Partial("LOV/ListOfValue", new ViewDataDictionary { { "cls_ddl", "cls_lov_sold_to" } })
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 control-label">
                                Material (PKG) :
                            </div>
                            <div class="col-md-4">
                                <input type="text" class="form-control cls_txt_material_pk" />

                            </div>
                            <div class="col-md-2 control-label">
                                Ship To Name :
                            </div>
                            <div class="col-md-4">
                                @Html.Partial("LOV/ListOfValue", new ViewDataDictionary { { "cls_ddl", "cls_lov_ship_to" } })
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-2 control-label">
                                Brand :
                            </div>
                            <div class="col-md-4">
                                @Html.Partial("LOV/ListOfValue", new ViewDataDictionary { { "cls_ddl", "cls_lov_brand" } })

                            </div>
                            <div class="col-md-2 control-label">
                            </div>
                            <div class="col-md-4">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <button type="button" class="btn btn-primary cls_btn_search">Search</button>
                                <button type="button" class="cls_btn_clear btn btn-danger">Clear</button>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <table id="table_tfartwork_suggest_material" class="display" style="width: 100%">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th class="cls_nowrap">Material (FG)</th>
                                            <th class="cls_nowrap">Material (PKG)</th>
                                            <th class="cls_nowrap">Brand name</th>
                                            <th class="cls_nowrap">Sold to name</th>
                                            <th class="cls_nowrap">Ship to name</th>
                                            <th class="cls_nowrap">Additional Brand</th>
                                            <th class="cls_nowrap">Route</th>
                                            <th class="cls_nowrap">Intrasit Port</th>
                                            <th class="cls_nowrap">Sales Org</th>
                                            <th class="cls_nowrap">Plant</th>
                                            <th class="cls_nowrap">Country Key</th>
                                            <th class="cls_nowrap">Start date</th>
                                            <th class="cls_nowrap">End date</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="cls_btn_tfartwork_suggest_material_select btn btn-primary">Select</button>
                        <button type="button" class="cls_btn_tfartwork_suggest_material_close btn btn-default" data-dismiss="modal">Close</button>
                    </div>




                </form>
            </div>
        </div>
    </div>
    }

    @section scripts
{
        <script type="text/javascript">
        debugger;
        var ArtworkSubId = 0;
        if (@ViewBag.ArtworkSubId) {
            ArtworkSubId = @ViewBag.ArtworkSubId;
        }
        var OverDue = '@ViewBag.OverDue';
        var CreateRequestByFFC = @ViewBag.CreateRequestByFFC;
        var MainArtworkSubId = @ViewBag.MainArtworkSubId;
        var ARTWORK_REQUEST_ID = @ViewBag.ArtworkRequestId;
        var ARTWORK_ITEM_ID = @ViewBag.ArtworkItemId;
        var ARTWORK_REQUEST_READONLY = 1;
        var DefaultResonId = @(ViewBag.DefaultResonId);
        var DefaultResonTxt = '@(ViewBag.DefaultResonTxt)';
        var ReadOnly = '@ViewBag.ReadOnly';
        var WORKFLOW_NO = '@ViewBag.Title';
        var REQUEST_MATERIAL = '@ViewBag.RequestMaterial';
        var LockWF = '@ViewBag.LockWF';
        var WFCompletedOrTerminated = '@ViewBag.WFCompletedOrTerminated';
        var ShowExtendStepDuration = '@ViewBag.ShowExtendStepDuration';
        var IsAdmin = '@ViewBag.IsAdmin'; // by aof show btn so change for admin
        </script>
        @Scripts.Render("~/bundles/artworkrequest")
        @Scripts.Render("~/bundles/taskformartwork")
        <script type="text/javascript">
            $(document).ready(function () {

                if (OverDue == "1" && WFCompletedOrTerminated == "0")
                    $('.cls_container_taskform_artwork .cls_display_txt_over_due').show();
                else
                    $('.cls_container_taskform_artwork .cls_display_txt_over_due').hide();

                if (LockWF == "1") {
                    $('.cls_container_taskform_artwork .cls_display_txt_lock_wf').show();
                }
                else
                    $('.cls_container_taskform_artwork .cls_display_txt_lock_wf').hide();

                if (ShowExtendStepDuration == "1")
                    $('.cls_container_taskform_artwork .cls_row_extend_step_duration').show();
                else
                    $('.cls_container_taskform_artwork .cls_row_extend_step_duration').hide();

                $(document).ajaxSuccess(function () {

                    if (LockWF == "1") {
                        $('input, textarea, select').attr('disabled', true);
                        $(".btn").hide();
                        $(".imgadd").hide();
                        $(".imgdelete").hide();
                        $(document).find("[data-target='" + '#popup_attachment_artwork' + "']").show();

                        $(".dataTables_length select").attr('disabled', false);
                        $(".dataTables_filter input").attr('disabled', false);

                        $(".cls_img_end_task_artwork").show();
                    }
                    if (ReadOnly == "1") {
                        $('.cls_container_taskform_artwork .cls_display_view').show();
                        $('input, textarea, select').attr('disabled', true);
                        $(".btn").hide();
                        $(".imgadd").hide();
                        $(".imgdelete").hide();
                        $(document).find("[data-target='" + '#popup_attachment_artwork' + "']").show();

                        $(".dataTables_length select").attr('disabled', false);
                        $(".dataTables_filter input").attr('disabled', false);

                        $(".cls_img_end_task_artwork").hide();
                    }
                    if (REQUEST_MATERIAL == "1") {
                        afterRequestMat();
                    }


                    // by aof show btn so change for admin
                    if (IsAdmin == "1") {
                        if (IS_SO_CHANGE) {
                            $(".cls_tfartwork_salesorder .cls_btn_tfartwork_salesorder_viewchange").show();
                        }
                    }
                    // by aof show btn so change for admin

                });
            });

            function afterRequestMat() {
                $(".cls_tfartwork_pa input").attr('disabled', true);
                $(".cls_tfartwork_pa textarea").attr('disabled', true);
                $(".cls_tfartwork_pa select").attr('disabled', true);
                //$('input, textarea, select').attr('disabled', true);
                $(".cls_tfartwork_pa .btn").hide();
                $(".cls_tfartwork_pa .cls_btn_pa_submit").show();
                $(".cls_tfartwork_pa .cls_btn_pa_send_to_vendor").show();
                $(".cls_tfartwork_pa .cls_btn_pa_send_to_customer").show();
                $(".imgadd").hide();
                $(".imgdelete").hide();
                $(document).find("[data-target='" + '#popup_attachment_artwork' + "']").show();

                $(".dataTables_length select").attr('disabled', false);
                $(".dataTables_filter input").attr('disabled', false);
            }
        </script>
    }
    @section Styles {
        <style type="text/css">
            .popover {
                max-width: 600px;
            }
        </style>
    }
